{"id": "fizzbuzz", "name": "FizzBuzz", "description": "Return fizzbuzz classification for numbers 1 to n", "solutions": {"at": "fn fizzbuzz(n: int) -> array<string> {\n    let result = slice([\"_\"], 0, 0);\n    let i = 1;\n    while i <= n {\n        let s = if i % 15 == 0 { \"FizzBuzz\" } else if i % 3 == 0 { \"Fizz\" } else if i % 5 == 0 { \"Buzz\" } else { to_string(i) };\n        set result = append(result, s);\n        set i = i + 1;\n    }\n    return result;\n}\n\ntest \"fizzbuzz\" {\n    let r = fizzbuzz(15);\n    assert_eq(r[0], \"1\");\n    assert_eq(r[2], \"Fizz\");\n    assert_eq(r[4], \"Buzz\");\n    assert_eq(r[14], \"FizzBuzz\");\n}", "python": "def fizzbuzz(n: int) -> list[str]:\n    result = []\n    for i in range(1, n + 1):\n        if i % 15 == 0:\n            result.append(\"FizzBuzz\")\n        elif i % 3 == 0:\n            result.append(\"Fizz\")\n        elif i % 5 == 0:\n            result.append(\"Buzz\")\n        else:\n            result.append(str(i))\n    return result\n\ndef test_fizzbuzz():\n    r = fizzbuzz(15)\n    assert r[0] == \"1\"\n    assert r[2] == \"Fizz\"\n    assert r[4] == \"Buzz\"\n    assert r[14] == \"FizzBuzz\"\n\ntest_fizzbuzz()", "javascript": "function fizzbuzz(n) {\n    const result = [];\n    for (let i = 1; i <= n; i++) {\n        if (i % 15 === 0) result.push(\"FizzBuzz\");\n        else if (i % 3 === 0) result.push(\"Fizz\");\n        else if (i % 5 === 0) result.push(\"Buzz\");\n        else result.push(String(i));\n    }\n    return result;\n}\n\nfunction testFizzbuzz() {\n    const r = fizzbuzz(15);\n    console.assert(r[0] === \"1\");\n    console.assert(r[2] === \"Fizz\");\n    console.assert(r[4] === \"Buzz\");\n    console.assert(r[14] === \"FizzBuzz\");\n}\n\ntestFizzbuzz();", "go": "package main\n\nimport (\n\t\"fmt\"\n\t\"strconv\"\n)\n\nfunc fizzbuzz(n int) []string {\n\tresult := make([]string, 0, n)\n\tfor i := 1; i <= n; i++ {\n\t\tif i%15 == 0 {\n\t\t\tresult = append(result, \"FizzBuzz\")\n\t\t} else if i%3 == 0 {\n\t\t\tresult = append(result, \"Fizz\")\n\t\t} else if i%5 == 0 {\n\t\t\tresult = append(result, \"Buzz\")\n\t\t} else {\n\t\t\tresult = append(result, strconv.Itoa(i))\n\t\t}\n\t}\n\treturn result\n}\n\nfunc main() {\n\tr := fizzbuzz(15)\n\tif r[0] != \"1\" || r[2] != \"Fizz\" || r[4] != \"Buzz\" || r[14] != \"FizzBuzz\" {\n\t\tfmt.Println(\"FAIL\")\n\t}\n}", "java": "import java.util.ArrayList;\nimport java.util.List;\n\npublic class FizzBuzz {\n    public static List<String> fizzbuzz(int n) {\n        List<String> result = new ArrayList<>();\n        for (int i = 1; i <= n; i++) {\n            if (i % 15 == 0) result.add(\"FizzBuzz\");\n            else if (i % 3 == 0) result.add(\"Fizz\");\n            else if (i % 5 == 0) result.add(\"Buzz\");\n            else result.add(String.valueOf(i));\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        List<String> r = fizzbuzz(15);\n        assert r.get(0).equals(\"1\");\n        assert r.get(2).equals(\"Fizz\");\n        assert r.get(4).equals(\"Buzz\");\n        assert r.get(14).equals(\"FizzBuzz\");\n    }\n}"}}
{"id": "two_sum", "name": "Two Sum", "description": "Find two indices in array that sum to target", "solutions": {"at": "fn two_sum(nums: array<int>, target: int) -> option<(int, int)> {\n    let i = 0;\n    while i < len(nums) {\n        let j = i + 1;\n        while j < len(nums) {\n            if nums[i] + nums[j] == target {\n                return some((i, j));\n            }\n            set j = j + 1;\n        }\n        set i = i + 1;\n    }\n    return none();\n}\n\ntest \"two sum\" {\n    let r = two_sum([2, 7, 11, 15], 9);\n    assert_eq(r, some((0, 1)));\n    let r2 = two_sum([3, 2, 4], 6);\n    assert_eq(r2, some((1, 2)));\n    let r3 = two_sum([1, 2, 3], 99);\n    assert_eq(r3, none());\n}", "python": "from typing import Optional\n\ndef two_sum(nums: list[int], target: int) -> Optional[tuple[int, int]]:\n    for i in range(len(nums)):\n        for j in range(i + 1, len(nums)):\n            if nums[i] + nums[j] == target:\n                return (i, j)\n    return None\n\ndef test_two_sum():\n    assert two_sum([2, 7, 11, 15], 9) == (0, 1)\n    assert two_sum([3, 2, 4], 6) == (1, 2)\n    assert two_sum([1, 2, 3], 99) is None\n\ntest_two_sum()", "javascript": "function twoSum(nums, target) {\n    for (let i = 0; i < nums.length; i++) {\n        for (let j = i + 1; j < nums.length; j++) {\n            if (nums[i] + nums[j] === target) {\n                return [i, j];\n            }\n        }\n    }\n    return null;\n}\n\nfunction testTwoSum() {\n    const r = twoSum([2, 7, 11, 15], 9);\n    console.assert(r[0] === 0 && r[1] === 1);\n    const r2 = twoSum([3, 2, 4], 6);\n    console.assert(r2[0] === 1 && r2[1] === 2);\n    const r3 = twoSum([1, 2, 3], 99);\n    console.assert(r3 === null);\n}\n\ntestTwoSum();", "go": "package main\n\nfunc twoSum(nums []int, target int) (int, int, bool) {\n\tfor i := 0; i < len(nums); i++ {\n\t\tfor j := i + 1; j < len(nums); j++ {\n\t\t\tif nums[i]+nums[j] == target {\n\t\t\t\treturn i, j, true\n\t\t\t}\n\t\t}\n\t}\n\treturn 0, 0, false\n}\n\nfunc main() {\n\ti, j, ok := twoSum([]int{2, 7, 11, 15}, 9)\n\tif !ok || i != 0 || j != 1 {\n\t\tpanic(\"fail\")\n\t}\n\ti2, j2, ok2 := twoSum([]int{3, 2, 4}, 6)\n\tif !ok2 || i2 != 1 || j2 != 2 {\n\t\tpanic(\"fail\")\n\t}\n\t_, _, ok3 := twoSum([]int{1, 2, 3}, 99)\n\tif ok3 {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "public class TwoSum {\n    public static int[] twoSum(int[] nums, int target) {\n        for (int i = 0; i < nums.length; i++) {\n            for (int j = i + 1; j < nums.length; j++) {\n                if (nums[i] + nums[j] == target) {\n                    return new int[]{i, j};\n                }\n            }\n        }\n        return null;\n    }\n\n    public static void main(String[] args) {\n        int[] r = twoSum(new int[]{2, 7, 11, 15}, 9);\n        assert r[0] == 0 && r[1] == 1;\n        int[] r2 = twoSum(new int[]{3, 2, 4}, 6);\n        assert r2[0] == 1 && r2[1] == 2;\n        int[] r3 = twoSum(new int[]{1, 2, 3}, 99);\n        assert r3 == null;\n    }\n}"}}
{"id": "palindrome_check", "name": "Palindrome Check", "description": "Check if a string is a palindrome", "solutions": {"at": "fn is_palindrome(s: string) -> bool {\n    let n = len(s);\n    if n <= 1 {\n        return true;\n    }\n    let i = 0;\n    let j = n - 1;\n    while i < j {\n        if char_at(s, i) != char_at(s, j) {\n            return false;\n        }\n        set i = i + 1;\n        set j = j - 1;\n    }\n    return true;\n}\n\ntest \"palindrome\" {\n    assert(is_palindrome(\"racecar\"));\n    assert(is_palindrome(\"madam\"));\n    assert(!is_palindrome(\"hello\"));\n    assert(is_palindrome(\"a\"));\n}", "python": "def is_palindrome(s: str) -> bool:\n    i = 0\n    j = len(s) - 1\n    while i < j:\n        if s[i] != s[j]:\n            return False\n        i += 1\n        j -= 1\n    return True\n\ndef test_palindrome():\n    assert is_palindrome(\"racecar\")\n    assert is_palindrome(\"madam\")\n    assert not is_palindrome(\"hello\")\n    assert is_palindrome(\"a\")\n\ntest_palindrome()", "javascript": "function isPalindrome(s) {\n    let i = 0;\n    let j = s.length - 1;\n    while (i < j) {\n        if (s[i] !== s[j]) return false;\n        i++;\n        j--;\n    }\n    return true;\n}\n\nfunction testPalindrome() {\n    console.assert(isPalindrome(\"racecar\"));\n    console.assert(isPalindrome(\"madam\"));\n    console.assert(!isPalindrome(\"hello\"));\n    console.assert(isPalindrome(\"a\"));\n}\n\ntestPalindrome();", "go": "package main\n\nfunc isPalindrome(s string) bool {\n\ti := 0\n\tj := len(s) - 1\n\tfor i < j {\n\t\tif s[i] != s[j] {\n\t\t\treturn false\n\t\t}\n\t\ti++\n\t\tj--\n\t}\n\treturn true\n}\n\nfunc main() {\n\tif !isPalindrome(\"racecar\") {\n\t\tpanic(\"fail\")\n\t}\n\tif !isPalindrome(\"madam\") {\n\t\tpanic(\"fail\")\n\t}\n\tif isPalindrome(\"hello\") {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "public class Palindrome {\n    public static boolean isPalindrome(String s) {\n        int i = 0;\n        int j = s.length() - 1;\n        while (i < j) {\n            if (s.charAt(i) != s.charAt(j)) return false;\n            i++;\n            j--;\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n        assert isPalindrome(\"racecar\");\n        assert isPalindrome(\"madam\");\n        assert !isPalindrome(\"hello\");\n        assert isPalindrome(\"a\");\n    }\n}"}}
{"id": "max_subarray", "name": "Maximum Subarray (Kadane)", "description": "Find contiguous subarray with largest sum", "solutions": {"at": "fn max_subarray(nums: array<int>) -> int {\n    let max_sum = nums[0];\n    let current = nums[0];\n    let i = 1;\n    while i < len(nums) {\n        set current = if current + nums[i] > nums[i] { current + nums[i] } else { nums[i] };\n        set max_sum = if current > max_sum { current } else { max_sum };\n        set i = i + 1;\n    }\n    return max_sum;\n}\n\ntest \"max subarray\" {\n    assert_eq(max_subarray([-2, 1, -3, 4, -1, 2, 1, -5, 4]), 6);\n    assert_eq(max_subarray([1]), 1);\n    assert_eq(max_subarray([-1, -2, -3]), -1);\n}", "python": "def max_subarray(nums: list[int]) -> int:\n    max_sum = nums[0]\n    current = nums[0]\n    for i in range(1, len(nums)):\n        current = max(current + nums[i], nums[i])\n        max_sum = max(max_sum, current)\n    return max_sum\n\ndef test_max_subarray():\n    assert max_subarray([-2, 1, -3, 4, -1, 2, 1, -5, 4]) == 6\n    assert max_subarray([1]) == 1\n    assert max_subarray([-1, -2, -3]) == -1\n\ntest_max_subarray()", "javascript": "function maxSubarray(nums) {\n    let maxSum = nums[0];\n    let current = nums[0];\n    for (let i = 1; i < nums.length; i++) {\n        current = Math.max(current + nums[i], nums[i]);\n        maxSum = Math.max(maxSum, current);\n    }\n    return maxSum;\n}\n\nfunction testMaxSubarray() {\n    console.assert(maxSubarray([-2, 1, -3, 4, -1, 2, 1, -5, 4]) === 6);\n    console.assert(maxSubarray([1]) === 1);\n    console.assert(maxSubarray([-1, -2, -3]) === -1);\n}\n\ntestMaxSubarray();", "go": "package main\n\nfunc maxSubarray(nums []int) int {\n\tmaxSum := nums[0]\n\tcurrent := nums[0]\n\tfor i := 1; i < len(nums); i++ {\n\t\tif current+nums[i] > nums[i] {\n\t\t\tcurrent = current + nums[i]\n\t\t} else {\n\t\t\tcurrent = nums[i]\n\t\t}\n\t\tif current > maxSum {\n\t\t\tmaxSum = current\n\t\t}\n\t}\n\treturn maxSum\n}\n\nfunc main() {\n\tif maxSubarray([]int{-2, 1, -3, 4, -1, 2, 1, -5, 4}) != 6 {\n\t\tpanic(\"fail\")\n\t}\n\tif maxSubarray([]int{1}) != 1 {\n\t\tpanic(\"fail\")\n\t}\n\tif maxSubarray([]int{-1, -2, -3}) != -1 {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "public class MaxSubarray {\n    public static int maxSubarray(int[] nums) {\n        int maxSum = nums[0];\n        int current = nums[0];\n        for (int i = 1; i < nums.length; i++) {\n            current = Math.max(current + nums[i], nums[i]);\n            maxSum = Math.max(maxSum, current);\n        }\n        return maxSum;\n    }\n\n    public static void main(String[] args) {\n        assert maxSubarray(new int[]{-2, 1, -3, 4, -1, 2, 1, -5, 4}) == 6;\n        assert maxSubarray(new int[]{1}) == 1;\n        assert maxSubarray(new int[]{-1, -2, -3}) == -1;\n    }\n}"}}
{"id": "binary_search", "name": "Binary Search", "description": "Search sorted array for target value", "solutions": {"at": "fn binary_search(arr: array<int>, target: int) -> option<int> {\n    let lo = 0;\n    let hi = len(arr) - 1;\n    while lo <= hi {\n        let mid = lo + (hi - lo) / 2;\n        if arr[mid] == target {\n            return some(mid);\n        } else if arr[mid] < target {\n            set lo = mid + 1;\n        } else {\n            set hi = mid - 1;\n        }\n    }\n    return none();\n}\n\ntest \"binary search\" {\n    let arr = [1, 3, 5, 7, 9, 11];\n    assert_eq(binary_search(arr, 7), some(3));\n    assert_eq(binary_search(arr, 1), some(0));\n    assert_eq(binary_search(arr, 11), some(5));\n    assert_eq(binary_search(arr, 4), none());\n}", "python": "from typing import Optional\n\ndef binary_search(arr: list[int], target: int) -> Optional[int]:\n    lo, hi = 0, len(arr) - 1\n    while lo <= hi:\n        mid = lo + (hi - lo) // 2\n        if arr[mid] == target:\n            return mid\n        elif arr[mid] < target:\n            lo = mid + 1\n        else:\n            hi = mid - 1\n    return None\n\ndef test_binary_search():\n    arr = [1, 3, 5, 7, 9, 11]\n    assert binary_search(arr, 7) == 3\n    assert binary_search(arr, 1) == 0\n    assert binary_search(arr, 11) == 5\n    assert binary_search(arr, 4) is None\n\ntest_binary_search()", "javascript": "function binarySearch(arr, target) {\n    let lo = 0;\n    let hi = arr.length - 1;\n    while (lo <= hi) {\n        const mid = lo + Math.floor((hi - lo) / 2);\n        if (arr[mid] === target) return mid;\n        else if (arr[mid] < target) lo = mid + 1;\n        else hi = mid - 1;\n    }\n    return null;\n}\n\nfunction testBinarySearch() {\n    const arr = [1, 3, 5, 7, 9, 11];\n    console.assert(binarySearch(arr, 7) === 3);\n    console.assert(binarySearch(arr, 1) === 0);\n    console.assert(binarySearch(arr, 11) === 5);\n    console.assert(binarySearch(arr, 4) === null);\n}\n\ntestBinarySearch();", "go": "package main\n\nfunc binarySearch(arr []int, target int) (int, bool) {\n\tlo, hi := 0, len(arr)-1\n\tfor lo <= hi {\n\t\tmid := lo + (hi-lo)/2\n\t\tif arr[mid] == target {\n\t\t\treturn mid, true\n\t\t} else if arr[mid] < target {\n\t\t\tlo = mid + 1\n\t\t} else {\n\t\t\thi = mid - 1\n\t\t}\n\t}\n\treturn -1, false\n}\n\nfunc main() {\n\tarr := []int{1, 3, 5, 7, 9, 11}\n\tif i, ok := binarySearch(arr, 7); !ok || i != 3 {\n\t\tpanic(\"fail\")\n\t}\n\tif i, ok := binarySearch(arr, 1); !ok || i != 0 {\n\t\tpanic(\"fail\")\n\t}\n\tif _, ok := binarySearch(arr, 4); ok {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "import java.util.OptionalInt;\n\npublic class BinarySearch {\n    public static OptionalInt binarySearch(int[] arr, int target) {\n        int lo = 0, hi = arr.length - 1;\n        while (lo <= hi) {\n            int mid = lo + (hi - lo) / 2;\n            if (arr[mid] == target) return OptionalInt.of(mid);\n            else if (arr[mid] < target) lo = mid + 1;\n            else hi = mid - 1;\n        }\n        return OptionalInt.empty();\n    }\n\n    public static void main(String[] args) {\n        int[] arr = {1, 3, 5, 7, 9, 11};\n        assert binarySearch(arr, 7).getAsInt() == 3;\n        assert binarySearch(arr, 1).getAsInt() == 0;\n        assert binarySearch(arr, 11).getAsInt() == 5;\n        assert binarySearch(arr, 4).isEmpty();\n    }\n}"}}
{"id": "functional_ops", "name": "Functional Pipeline", "description": "Map, filter, reduce pipeline operations", "solutions": {"at": "fn sum_evens(nums: array<int>) -> int {\n    let evens = filter(nums, |x| x % 2 == 0);\n    return reduce(evens, 0, |acc, x| acc + x);\n}\n\nfn double_all(nums: array<int>) -> array<int> {\n    return map(nums, |x| x * 2);\n}\n\nfn pipeline_sum(nums: array<int>) -> int {\n    let squared = map(nums, |x| x * x);\n    let big = filter(squared, |x| x > 5);\n    return reduce(big, 0, |acc, x| acc + x);\n}\n\ntest \"functional ops\" {\n    assert_eq(sum_evens([1, 2, 3, 4, 5, 6]), 12);\n    assert_eq(double_all([1, 2, 3]), [2, 4, 6]);\n    assert_eq(pipeline_sum([1, 2, 3, 4, 5]), 50);\n}", "python": "from functools import reduce\n\ndef sum_evens(nums: list[int]) -> int:\n    evens = list(filter(lambda x: x % 2 == 0, nums))\n    return reduce(lambda acc, x: acc + x, evens, 0)\n\ndef double_all(nums: list[int]) -> list[int]:\n    return list(map(lambda x: x * 2, nums))\n\ndef pipeline_sum(nums: list[int]) -> int:\n    squared = list(map(lambda x: x * x, nums))\n    big = list(filter(lambda x: x > 5, squared))\n    return reduce(lambda acc, x: acc + x, big, 0)\n\ndef test_functional_ops():\n    assert sum_evens([1, 2, 3, 4, 5, 6]) == 12\n    assert double_all([1, 2, 3]) == [2, 4, 6]\n    assert pipeline_sum([1, 2, 3, 4, 5]) == 50\n\ntest_functional_ops()", "javascript": "function sumEvens(nums) {\n    return nums.filter(x => x % 2 === 0).reduce((acc, x) => acc + x, 0);\n}\n\nfunction doubleAll(nums) {\n    return nums.map(x => x * 2);\n}\n\nfunction pipelineSum(nums) {\n    return nums.map(x => x * x).filter(x => x > 5).reduce((a, x) => a + x, 0);\n}\n\nfunction testFunctionalOps() {\n    console.assert(sumEvens([1, 2, 3, 4, 5, 6]) === 12);\n    console.assert(JSON.stringify(doubleAll([1, 2, 3])) === JSON.stringify([2, 4, 6]));\n    console.assert(pipelineSum([1, 2, 3, 4, 5]) === 50);\n}\n\ntestFunctionalOps();", "go": "package main\n\nfunc sumEvens(nums []int) int {\n\tsum := 0\n\tfor _, x := range nums {\n\t\tif x%2 == 0 {\n\t\t\tsum += x\n\t\t}\n\t}\n\treturn sum\n}\n\nfunc doubleAll(nums []int) []int {\n\tresult := make([]int, len(nums))\n\tfor i, x := range nums {\n\t\tresult[i] = x * 2\n\t}\n\treturn result\n}\n\nfunc pipelineSum(nums []int) int {\n\tsum := 0\n\tfor _, x := range nums {\n\t\tsq := x * x\n\t\tif sq > 5 {\n\t\t\tsum += sq\n\t\t}\n\t}\n\treturn sum\n}\n\nfunc main() {\n\tif sumEvens([]int{1, 2, 3, 4, 5, 6}) != 12 {\n\t\tpanic(\"fail\")\n\t}\n\tr := doubleAll([]int{1, 2, 3})\n\tif r[0] != 2 || r[1] != 4 || r[2] != 6 {\n\t\tpanic(\"fail\")\n\t}\n\tif pipelineSum([]int{1, 2, 3, 4, 5}) != 50 {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class FunctionalOps {\n    public static int sumEvens(List<Integer> nums) {\n        return nums.stream().filter(x -> x % 2 == 0).reduce(0, Integer::sum);\n    }\n\n    public static List<Integer> doubleAll(List<Integer> nums) {\n        return nums.stream().map(x -> x * 2).collect(Collectors.toList());\n    }\n\n    public static int pipelineSum(List<Integer> nums) {\n        return nums.stream().map(x -> x * x).filter(x -> x > 5).reduce(0, Integer::sum);\n    }\n\n    public static void main(String[] args) {\n        assert sumEvens(Arrays.asList(1, 2, 3, 4, 5, 6)) == 12;\n        assert doubleAll(Arrays.asList(1, 2, 3)).equals(Arrays.asList(2, 4, 6));\n        assert pipelineSum(Arrays.asList(1, 2, 3, 4, 5)) == 50;\n    }\n}"}}
{"id": "error_handling", "name": "Error Handling Pipeline", "description": "Chain operations with proper error propagation", "solutions": {"at": "fn parse_and_validate(input: string) -> result<int, string> {\n    let parsed = parse_int(input);\n    if is_none(parsed) {\n        return err(\"not a number\");\n    }\n    let value = match parsed {\n        some(v) => v,\n        _ => 0,\n    };\n    if value < 0 {\n        return err(\"must be positive\");\n    }\n    if value > 1000 {\n        return err(\"too large\");\n    }\n    return ok(value);\n}\n\nfn divide_safe(a: int, b: int) -> result<int, string> {\n    if b == 0 {\n        return err(\"division by zero\");\n    }\n    return ok(a / b);\n}\n\nfn pipeline(input: string) -> result<int, string> {\n    let value = parse_and_validate(input)?;\n    let halved = divide_safe(value, 2)?;\n    return ok(halved);\n}\n\ntest \"error pipeline\" {\n    assert_eq(pipeline(\"100\"), ok(50));\n    assert_eq(pipeline(\"abc\"), err(\"not a number\"));\n    assert_eq(pipeline(\"-5\"), err(\"must be positive\"));\n    assert_eq(pipeline(\"9999\"), err(\"too large\"));\n}", "python": "def parse_and_validate(input_str: str) -> tuple[bool, int | str]:\n    try:\n        value = int(input_str)\n    except ValueError:\n        return False, \"not a number\"\n    if value < 0:\n        return False, \"must be positive\"\n    if value > 1000:\n        return False, \"too large\"\n    return True, value\n\ndef divide_safe(a: int, b: int) -> tuple[bool, int | str]:\n    if b == 0:\n        return False, \"division by zero\"\n    return True, a // b\n\ndef pipeline(input_str: str) -> tuple[bool, int | str]:\n    ok, value = parse_and_validate(input_str)\n    if not ok:\n        return False, value\n    ok2, halved = divide_safe(value, 2)\n    if not ok2:\n        return False, halved\n    return True, halved\n\ndef test_error_pipeline():\n    assert pipeline(\"100\") == (True, 50)\n    assert pipeline(\"abc\") == (False, \"not a number\")\n    assert pipeline(\"-5\") == (False, \"must be positive\")\n    assert pipeline(\"9999\") == (False, \"too large\")\n\ntest_error_pipeline()", "javascript": "function parseAndValidate(input) {\n    const value = parseInt(input, 10);\n    if (isNaN(value)) return { ok: false, error: \"not a number\" };\n    if (value < 0) return { ok: false, error: \"must be positive\" };\n    if (value > 1000) return { ok: false, error: \"too large\" };\n    return { ok: true, value };\n}\n\nfunction divideSafe(a, b) {\n    if (b === 0) return { ok: false, error: \"division by zero\" };\n    return { ok: true, value: Math.floor(a / b) };\n}\n\nfunction pipeline(input) {\n    const parsed = parseAndValidate(input);\n    if (!parsed.ok) return parsed;\n    const halved = divideSafe(parsed.value, 2);\n    if (!halved.ok) return halved;\n    return halved;\n}\n\nfunction testErrorPipeline() {\n    console.assert(pipeline(\"100\").value === 50);\n    console.assert(pipeline(\"abc\").error === \"not a number\");\n    console.assert(pipeline(\"-5\").error === \"must be positive\");\n    console.assert(pipeline(\"9999\").error === \"too large\");\n}\n\ntestErrorPipeline();", "go": "package main\n\nimport (\n\t\"errors\"\n\t\"strconv\"\n)\n\nfunc parseAndValidate(input string) (int, error) {\n\tvalue, err := strconv.Atoi(input)\n\tif err != nil {\n\t\treturn 0, errors.New(\"not a number\")\n\t}\n\tif value < 0 {\n\t\treturn 0, errors.New(\"must be positive\")\n\t}\n\tif value > 1000 {\n\t\treturn 0, errors.New(\"too large\")\n\t}\n\treturn value, nil\n}\n\nfunc divideSafe(a, b int) (int, error) {\n\tif b == 0 {\n\t\treturn 0, errors.New(\"division by zero\")\n\t}\n\treturn a / b, nil\n}\n\nfunc pipeline(input string) (int, error) {\n\tvalue, err := parseAndValidate(input)\n\tif err != nil {\n\t\treturn 0, err\n\t}\n\thalved, err := divideSafe(value, 2)\n\tif err != nil {\n\t\treturn 0, err\n\t}\n\treturn halved, nil\n}\n\nfunc main() {\n\tif v, err := pipeline(\"100\"); err != nil || v != 50 {\n\t\tpanic(\"fail\")\n\t}\n\tif _, err := pipeline(\"abc\"); err == nil || err.Error() != \"not a number\" {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "public class ErrorPipeline {\n    public record Result<T>(boolean ok, T value, String error) {\n        public static <T> Result<T> success(T value) {\n            return new Result<>(true, value, null);\n        }\n        public static <T> Result<T> failure(String error) {\n            return new Result<>(false, null, error);\n        }\n    }\n\n    public static Result<Integer> parseAndValidate(String input) {\n        int value;\n        try {\n            value = Integer.parseInt(input);\n        } catch (NumberFormatException e) {\n            return Result.failure(\"not a number\");\n        }\n        if (value < 0) return Result.failure(\"must be positive\");\n        if (value > 1000) return Result.failure(\"too large\");\n        return Result.success(value);\n    }\n\n    public static Result<Integer> divideSafe(int a, int b) {\n        if (b == 0) return Result.failure(\"division by zero\");\n        return Result.success(a / b);\n    }\n\n    public static Result<Integer> pipeline(String input) {\n        var parsed = parseAndValidate(input);\n        if (!parsed.ok()) return Result.failure(parsed.error());\n        var halved = divideSafe(parsed.value(), 2);\n        if (!halved.ok()) return Result.failure(halved.error());\n        return halved;\n    }\n\n    public static void main(String[] args) {\n        assert pipeline(\"100\").value() == 50;\n        assert pipeline(\"abc\").error().equals(\"not a number\");\n        assert pipeline(\"-5\").error().equals(\"must be positive\");\n    }\n}"}}
{"id": "fibonacci", "name": "Fibonacci", "description": "Compute fibonacci sequence iteratively", "solutions": {"at": "fn fib(n: int) -> int {\n    if n <= 1 {\n        return n;\n    }\n    let a = 0;\n    let b = 1;\n    let i = 2;\n    while i <= n {\n        let temp = a + b;\n        set a = b;\n        set b = temp;\n        set i = i + 1;\n    }\n    return b;\n}\n\ntest \"fibonacci\" {\n    assert_eq(fib(0), 0);\n    assert_eq(fib(1), 1);\n    assert_eq(fib(10), 55);\n    assert_eq(fib(20), 6765);\n}", "python": "def fib(n: int) -> int:\n    if n <= 1:\n        return n\n    a, b = 0, 1\n    for _ in range(2, n + 1):\n        a, b = b, a + b\n    return b\n\ndef test_fibonacci():\n    assert fib(0) == 0\n    assert fib(1) == 1\n    assert fib(10) == 55\n    assert fib(20) == 6765\n\ntest_fibonacci()", "javascript": "function fib(n) {\n    if (n <= 1) return n;\n    let a = 0, b = 1;\n    for (let i = 2; i <= n; i++) {\n        [a, b] = [b, a + b];\n    }\n    return b;\n}\n\nfunction testFibonacci() {\n    console.assert(fib(0) === 0);\n    console.assert(fib(1) === 1);\n    console.assert(fib(10) === 55);\n    console.assert(fib(20) === 6765);\n}\n\ntestFibonacci();", "go": "package main\n\nfunc fib(n int) int {\n\tif n <= 1 {\n\t\treturn n\n\t}\n\ta, b := 0, 1\n\tfor i := 2; i <= n; i++ {\n\t\ta, b = b, a+b\n\t}\n\treturn b\n}\n\nfunc main() {\n\tif fib(0) != 0 {\n\t\tpanic(\"fail\")\n\t}\n\tif fib(1) != 1 {\n\t\tpanic(\"fail\")\n\t}\n\tif fib(10) != 55 {\n\t\tpanic(\"fail\")\n\t}\n\tif fib(20) != 6765 {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "public class Fibonacci {\n    public static int fib(int n) {\n        if (n <= 1) return n;\n        int a = 0, b = 1;\n        for (int i = 2; i <= n; i++) {\n            int temp = a + b;\n            a = b;\n            b = temp;\n        }\n        return b;\n    }\n\n    public static void main(String[] args) {\n        assert fib(0) == 0;\n        assert fib(1) == 1;\n        assert fib(10) == 55;\n        assert fib(20) == 6765;\n    }\n}"}}
{"id": "word_frequency", "name": "Word Frequency Counter", "description": "Count word occurrences in a string", "solutions": {"at": "fn word_freq(text: string) -> map<string, int> {\n    let words = split(text, \" \");\n    let freq = map {\"__init__\": 0};\n    for word in words {\n        let w = to_lower(trim(word));\n        if len(w) > 0 {\n            let count = if contains(keys(freq), w) { freq[w] + 1 } else { 1 };\n            set freq[w] = count;\n        }\n    }\n    return freq;\n}\n\ntest \"word frequency\" {\n    let f = word_freq(\"the cat sat on the mat\");\n    assert_eq(f[\"the\"], 2);\n    assert_eq(f[\"cat\"], 1);\n    assert_eq(f[\"mat\"], 1);\n}", "python": "def word_freq(text: str) -> dict[str, int]:\n    freq = {}\n    for word in text.split():\n        w = word.lower().strip()\n        if w:\n            freq[w] = freq.get(w, 0) + 1\n    return freq\n\ndef test_word_frequency():\n    f = word_freq(\"the cat sat on the mat\")\n    assert f[\"the\"] == 2\n    assert f[\"cat\"] == 1\n    assert f[\"mat\"] == 1\n    assert len(f) == 5\n\ntest_word_frequency()", "javascript": "function wordFreq(text) {\n    const freq = {};\n    for (const word of text.split(\" \")) {\n        const w = word.toLowerCase().trim();\n        if (w) freq[w] = (freq[w] || 0) + 1;\n    }\n    return freq;\n}\n\nfunction testWordFrequency() {\n    const f = wordFreq(\"the cat sat on the mat\");\n    console.assert(f[\"the\"] === 2);\n    console.assert(f[\"cat\"] === 1);\n    console.assert(f[\"mat\"] === 1);\n    console.assert(Object.keys(f).length === 5);\n}\n\ntestWordFrequency();", "go": "package main\n\nimport \"strings\"\n\nfunc wordFreq(text string) map[string]int {\n\tfreq := make(map[string]int)\n\tfor _, word := range strings.Fields(text) {\n\t\tw := strings.ToLower(strings.TrimSpace(word))\n\t\tif w != \"\" {\n\t\t\tfreq[w]++\n\t\t}\n\t}\n\treturn freq\n}\n\nfunc main() {\n\tf := wordFreq(\"the cat sat on the mat\")\n\tif f[\"the\"] != 2 || f[\"cat\"] != 1 || f[\"mat\"] != 1 || len(f) != 5 {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "import java.util.HashMap;\nimport java.util.Map;\n\npublic class WordFrequency {\n    public static Map<String, Integer> wordFreq(String text) {\n        Map<String, Integer> freq = new HashMap<>();\n        for (String word : text.split(\" \")) {\n            String w = word.toLowerCase().trim();\n            if (!w.isEmpty()) {\n                freq.merge(w, 1, Integer::sum);\n            }\n        }\n        return freq;\n    }\n\n    public static void main(String[] args) {\n        Map<String, Integer> f = wordFreq(\"the cat sat on the mat\");\n        assert f.get(\"the\") == 2;\n        assert f.get(\"cat\") == 1;\n        assert f.get(\"mat\") == 1;\n        assert f.size() == 5;\n    }\n}"}}
{"id": "matrix_multiply", "name": "Matrix Multiplication", "description": "Multiply two matrices represented as nested arrays", "solutions": {"at": "fn mat_mul(a: array<array<int>>, b: array<array<int>>) -> array<array<int>> {\n    let rows = len(a);\n    let cols = len(b[0]);\n    let inner = len(b);\n    let result = slice([a], 0, 0);\n    let i = 0;\n    while i < rows {\n        let row = slice([0], 0, 0);\n        let j = 0;\n        while j < cols {\n            let sum = 0;\n            let k = 0;\n            while k < inner {\n                set sum = sum + a[i][k] * b[k][j];\n                set k = k + 1;\n            }\n            set row = append(row, sum);\n            set j = j + 1;\n        }\n        set result = append(result, row);\n        set i = i + 1;\n    }\n    return result;\n}\n\ntest \"matrix multiply\" {\n    let a = [[1, 2], [3, 4]];\n    let b = [[5, 6], [7, 8]];\n    let c = mat_mul(a, b);\n    assert_eq(c[0][0], 19);\n    assert_eq(c[0][1], 22);\n    assert_eq(c[1][0], 43);\n    assert_eq(c[1][1], 50);\n}", "python": "def mat_mul(a: list[list[int]], b: list[list[int]]) -> list[list[int]]:\n    rows = len(a)\n    cols = len(b[0])\n    inner = len(b)\n    result = []\n    for i in range(rows):\n        row = []\n        for j in range(cols):\n            total = 0\n            for k in range(inner):\n                total += a[i][k] * b[k][j]\n            row.append(total)\n        result.append(row)\n    return result\n\ndef test_matrix_multiply():\n    a = [[1, 2], [3, 4]]\n    b = [[5, 6], [7, 8]]\n    c = mat_mul(a, b)\n    assert c[0][0] == 19\n    assert c[0][1] == 22\n    assert c[1][0] == 43\n    assert c[1][1] == 50\n\ntest_matrix_multiply()", "javascript": "function matMul(a, b) {\n    const rows = a.length;\n    const cols = b[0].length;\n    const inner = b.length;\n    const result = [];\n    for (let i = 0; i < rows; i++) {\n        const row = [];\n        for (let j = 0; j < cols; j++) {\n            let sum = 0;\n            for (let k = 0; k < inner; k++) {\n                sum += a[i][k] * b[k][j];\n            }\n            row.push(sum);\n        }\n        result.push(row);\n    }\n    return result;\n}\n\nfunction testMatrixMultiply() {\n    const a = [[1, 2], [3, 4]];\n    const b = [[5, 6], [7, 8]];\n    const c = matMul(a, b);\n    console.assert(c[0][0] === 19);\n    console.assert(c[0][1] === 22);\n    console.assert(c[1][0] === 43);\n    console.assert(c[1][1] === 50);\n}\n\ntestMatrixMultiply();", "go": "package main\n\nfunc matMul(a, b [][]int) [][]int {\n\trows := len(a)\n\tcols := len(b[0])\n\tinner := len(b)\n\tresult := make([][]int, rows)\n\tfor i := 0; i < rows; i++ {\n\t\tresult[i] = make([]int, cols)\n\t\tfor j := 0; j < cols; j++ {\n\t\t\tsum := 0\n\t\t\tfor k := 0; k < inner; k++ {\n\t\t\t\tsum += a[i][k] * b[k][j]\n\t\t\t}\n\t\t\tresult[i][j] = sum\n\t\t}\n\t}\n\treturn result\n}\n\nfunc main() {\n\ta := [][]int{{1, 2}, {3, 4}}\n\tb := [][]int{{5, 6}, {7, 8}}\n\tc := matMul(a, b)\n\tif c[0][0] != 19 || c[0][1] != 22 || c[1][0] != 43 || c[1][1] != 50 {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "public class MatrixMultiply {\n    public static int[][] matMul(int[][] a, int[][] b) {\n        int rows = a.length;\n        int cols = b[0].length;\n        int inner = b.length;\n        int[][] result = new int[rows][cols];\n        for (int i = 0; i < rows; i++) {\n            for (int j = 0; j < cols; j++) {\n                int sum = 0;\n                for (int k = 0; k < inner; k++) {\n                    sum += a[i][k] * b[k][j];\n                }\n                result[i][j] = sum;\n            }\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        int[][] a = {{1, 2}, {3, 4}};\n        int[][] b = {{5, 6}, {7, 8}};\n        int[][] c = matMul(a, b);\n        assert c[0][0] == 19;\n        assert c[0][1] == 22;\n        assert c[1][0] == 43;\n        assert c[1][1] == 50;\n    }\n}"}}
{"id": "pattern_matching", "name": "Pattern Matching Pipeline", "description": "Use match/result/option for data validation pipeline", "solutions": {"at": "pub struct Dimensions {\n    w: float,\n    h: float,\n}\n\npub enum Shape {\n    Circle(float),\n    Rect(Dimensions),\n    Triangle(Dimensions),\n}\n\nfn area(s: Shape) -> result<float, string> {\n    return match s {\n        Shape::Circle(r) => if r > 0.0 { ok(3.14159 * r * r) } else { err(\"invalid radius\") },\n        Shape::Rect(d) => if d.w > 0.0 { ok(d.w * d.h) } else { err(\"invalid dimensions\") },\n        Shape::Triangle(d) => if d.w > 0.0 { ok(0.5 * d.w * d.h) } else { err(\"invalid dimensions\") },\n    };\n}\n\nfn describe(s: Shape) -> string {\n    let r = area(s);\n    return match r {\n        ok(a) => \"Area: {a}\",\n        err(msg) => \"Error: {msg}\",\n    };\n}\n\ntest \"shape areas\" {\n    assert(is_ok(area(Shape::Circle(5.0))));\n    assert(is_ok(area(Shape::Rect(Dimensions { w: 3.0, h: 4.0 }))));\n    assert(is_err(area(Shape::Circle(-1.0))));\n    assert_eq(describe(Shape::Rect(Dimensions { w: 3.0, h: 4.0 })), \"Area: 12\");\n}", "python": "from dataclasses import dataclass\nfrom typing import Union\n\n@dataclass\nclass Circle:\n    radius: float\n\n@dataclass\nclass Rect:\n    width: float\n    height: float\n\n@dataclass\nclass Triangle:\n    base: float\n    height: float\n\nShape = Union[Circle, Rect, Triangle]\n\ndef area(s: Shape) -> tuple[bool, float | str]:\n    match s:\n        case Circle(r):\n            if r > 0:\n                return True, 3.14159 * r * r\n            return False, \"invalid radius\"\n        case Rect(w, h):\n            if w > 0:\n                return True, w * h\n            return False, \"invalid dimensions\"\n        case Triangle(b, h):\n            if b > 0:\n                return True, 0.5 * b * h\n            return False, \"invalid dimensions\"\n\ndef describe(s: Shape) -> str:\n    ok, value = area(s)\n    if ok:\n        return f\"Area: {value}\"\n    return f\"Error: {value}\"\n\ndef test_shape_areas():\n    assert area(Circle(5.0))[0] is True\n    assert area(Rect(3.0, 4.0))[0] is True\n    assert area(Circle(-1.0))[0] is False\n    assert describe(Rect(3.0, 4.0)) == \"Area: 12.0\"\n\ntest_shape_areas()", "javascript": "class Circle { constructor(r) { this.type = 'circle'; this.radius = r; } }\nclass Rect { constructor(w, h) { this.type = 'rect'; this.width = w; this.height = h; } }\nclass Triangle { constructor(b, h) { this.type = 'triangle'; this.base = b; this.height = h; } }\n\nfunction area(s) {\n    switch (s.type) {\n        case 'circle':\n            if (s.radius > 0) return { ok: true, value: 3.14159 * s.radius * s.radius };\n            return { ok: false, error: 'invalid radius' };\n        case 'rect':\n            if (s.width > 0) return { ok: true, value: s.width * s.height };\n            return { ok: false, error: 'invalid dimensions' };\n        case 'triangle':\n            if (s.base > 0) return { ok: true, value: 0.5 * s.base * s.height };\n            return { ok: false, error: 'invalid dimensions' };\n    }\n}\n\nfunction describe(s) {\n    const result = area(s);\n    if (result.ok) return `Area: ${result.value}`;\n    return `Error: ${result.error}`;\n}\n\nfunction testShapeAreas() {\n    console.assert(area(new Circle(5.0)).ok);\n    console.assert(area(new Rect(3.0, 4.0)).ok);\n    console.assert(!area(new Circle(-1.0)).ok);\n    console.assert(describe(new Rect(3.0, 4.0)) === 'Area: 12');\n}\n\ntestShapeAreas();", "go": "package main\n\nimport \"fmt\"\n\ntype Shape interface {\n\tArea() (float64, error)\n}\n\ntype Circle struct{ Radius float64 }\ntype Rect struct{ Width, Height float64 }\ntype Triangle struct{ Base, Height float64 }\n\nfunc (c Circle) Area() (float64, error) {\n\tif c.Radius <= 0 {\n\t\treturn 0, fmt.Errorf(\"invalid radius\")\n\t}\n\treturn 3.14159 * c.Radius * c.Radius, nil\n}\n\nfunc (r Rect) Area() (float64, error) {\n\tif r.Width <= 0 {\n\t\treturn 0, fmt.Errorf(\"invalid dimensions\")\n\t}\n\treturn r.Width * r.Height, nil\n}\n\nfunc (t Triangle) Area() (float64, error) {\n\tif t.Base <= 0 {\n\t\treturn 0, fmt.Errorf(\"invalid dimensions\")\n\t}\n\treturn 0.5 * t.Base * t.Height, nil\n}\n\nfunc describe(s Shape) string {\n\ta, err := s.Area()\n\tif err != nil {\n\t\treturn fmt.Sprintf(\"Error: %s\", err)\n\t}\n\treturn fmt.Sprintf(\"Area: %g\", a)\n}\n\nfunc main() {\n\tif _, err := Circle{5.0}.Area(); err != nil {\n\t\tpanic(\"fail\")\n\t}\n\tif _, err := Circle{-1.0}.Area(); err == nil {\n\t\tpanic(\"fail\")\n\t}\n}", "java": "public class ShapeAreas {\n    sealed interface Shape permits Circle, Rect, Triangle {}\n    record Circle(double radius) implements Shape {}\n    record Rect(double width, double height) implements Shape {}\n    record Triangle(double base, double height) implements Shape {}\n\n    public static double area(Shape s) throws IllegalArgumentException {\n        return switch (s) {\n            case Circle c -> {\n                if (c.radius() <= 0) throw new IllegalArgumentException(\"invalid radius\");\n                yield 3.14159 * c.radius() * c.radius();\n            }\n            case Rect r -> {\n                if (r.width() <= 0) throw new IllegalArgumentException(\"invalid dimensions\");\n                yield r.width() * r.height();\n            }\n            case Triangle t -> {\n                if (t.base() <= 0) throw new IllegalArgumentException(\"invalid dimensions\");\n                yield 0.5 * t.base() * t.height();\n            }\n        };\n    }\n\n    public static String describe(Shape s) {\n        try {\n            double a = area(s);\n            return \"Area: \" + a;\n        } catch (IllegalArgumentException e) {\n            return \"Error: \" + e.getMessage();\n        }\n    }\n\n    public static void main(String[] args) {\n        assert describe(new Rect(3.0, 4.0)).equals(\"Area: 12.0\");\n    }\n}"}}
